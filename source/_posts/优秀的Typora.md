---
title: ä¼˜ç§€çš„Typora
typora-root-url: ../../source
date: 2019-07-14 00:22:33
---

ä»Šå¤©æ„å¤–åœ°å‘ç°äº†[Typora](https://typora.io/)ï¼Œå‡ ä¹è§£å†³äº†æˆ‘å…³äºè®°ç¬”è®°å’Œå†™åšå®¢çš„æ‰€æœ‰é—®é¢˜ã€‚

# 1.æ—¥å¸¸è®°ç¬”è®°

å…¶å®æˆ‘å¤§æ¦‚ä¸‰ä¸ªæœˆå‰æ˜¯ç”¨çº¸ç¬”è®°ç¬”è®°çš„ï¼Œç›´åˆ°æˆ‘æ„è¯†åˆ°æˆ‘æ‰“å­—å·²ç»æ¯”å†™å­—å¿«å¾ˆå¤šäº†ã€‚ã€‚ã€‚

ç„¶åæˆ‘å¼€å§‹ç”¨wordè®°äº‹ï¼Œå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ€»è§‰å¾—ä¸å¤Ÿè½»ä¾¿

ç„¶åæˆ‘å¼€å§‹ç”¨onenoteï¼Œä½†åŠŸèƒ½åˆå¤ªå°‘äº†ï¼Œå…³é”®æ—¶åˆ»è¿ä¸ªå…¬å¼éƒ½æ²¡æœ‰



ç›´åˆ°ä»Šå¤©ï¼Œç›´åˆ°ä»Šå¤©æˆ‘å‘ç°äº†Typora

1. å®ç°äº†markdownçš„æ‰€è§æ‰€å¾—ï¼Œæ ‡é¢˜ã€åŠ ç²—ã€æ’å›¾ï¼Œå¯ä»¥ç›´æ¥æ˜¾ç¤ºï¼Œå®ç°äº†wordçš„åŠŸèƒ½åˆä¸ç”¨é¢‘ç¹ç‚¹é¼ æ ‡ã€‚
2. å…¬å¼å¯ä»¥ç›´æ¥ç”¨$\LaTeX{}$æ‰“å•Šï¼Œè€Œä¸”è¾¹å†™è¾¹é¢„è§ˆï¼
3. å¯ä»¥ç›´æ¥è´´ä»£ç å•Šï¼Œç›´æ¥è¯­æ³•é«˜äº®å•Šï¼è¿™ä¸ªç”¨wordæˆ‘æ˜¯ä¸ä¼šåšçš„ã€‚
4. è£…äº†pandocä¹‹åï¼Œ**èƒ½ç›´æ¥å¯¼å‡ºword**ï¼Œè€Œä¸”å…¬å¼è¿˜æ˜¯åŸç”Ÿçš„wordå…¬å¼ï¼Œä¸æ˜¯mathtypeçš„ï¼

å…¶å®çœ‹äº†ä¸Šé¢çš„åŠŸèƒ½ï¼Œæˆ‘å°±æ€€ç–‘è¿™ä¸ªè½¯ä»¶åƒæ˜¯ä¸€ä¸ªæœ¬åœ°ç‰ˆçš„hexoï¼Œç„¶åæˆ‘åœ¨GitHubä¸Šæ‰¾ï¼Œæ²¡æ‰¾åˆ°æºç ï¼Œä½†æ‰¾åˆ°äº†åˆ°äº†Typoraçš„ç»„ç»‡ï¼Œé‡Œé¢çš„ä»“åº“æœ‰nodeã€æœ‰electronï¼Œemmmï¼Œæˆ‘æ›´åŠ æ€€ç–‘äº†ğŸ¤”

# 2.Hexo

æ‰€ä»¥æŠŠTyporaå½“ä½œHexoçš„å®¢æˆ·ç«¯éå¸¸åˆé€‚ï¼Œå¥½åƒHexoå†™åšå®¢éš¾å—çš„å‡ ä¸ªç‚¹éƒ½å¯ä»¥è§£å†³äº†ã€‚

## 2.1å®æ—¶é¢„è§ˆ

hexoé‡Œèƒ½å®ç°çš„ï¼ŒTyporaä¸Šä¹Ÿéƒ½èƒ½å®ç°ï¼Œæ‰€ä»¥å…¶å®å°±æ˜¯å®ç°äº†å®æ—¶é¢„è§ˆã€‚

è™½ç„¶ç†è®ºä¸Šä¹Ÿå¯ä»¥å¼€`hexo server`ï¼Œä½†æ˜¯æ¯•ç«Ÿè¿˜æ˜¯è¦åˆ°æµè§ˆå™¨é‡Œåˆ·æ–°ä¸€ä¸‹æ‰èƒ½çœ‹åˆ°å˜åŒ–çš„ï¼Œæ¯”ä¸ä¸Šç›´æ¥ç”¨è¿™ä¸ªæ¥å¾—ç›´æ¥ã€‚

## 2.2å›¾ç‰‡ç²˜è´´

è´´å›¾ç®€ç›´æ˜¯hexoçš„ç¾éš¾ï¼Œæœ€æ—©æˆ‘æ˜¯æŠŠå›¾ä¼ åˆ°ä¸ƒç‰›äº‘çš„ï¼Œç„¶åå¤åˆ¶äº†é“¾æ¥å†æ‰‹åŠ¨å†™åˆ°åšå®¢é‡Œã€‚

åæ¥ä¸ƒç‰›äº‘çªç„¶å°±ä¸å…è®¸å¤–é“¾äº†ï¼Œå·®ç‚¹æŠŠæˆ‘çš„å›¾éƒ½æä¸¢ï¼Œåƒäº†æ•™è®­ä¹‹åï¼Œæˆ‘æŠŠå›¾éƒ½æ”¾åˆ°äº†`source/images`é‡Œï¼Œç„¶ååœ¨è´´å›¾çš„æ—¶å€™ç”¨`![](/images/ctc.jpg)`ï¼Œå›¾ç‰‡æ˜¯è¦è‡ªå·±å¤åˆ¶çš„ï¼Œè·¯å¾„ä¹Ÿæ˜¯è¦è‡ªå·±å†™çš„ã€‚

ä½†æ˜¯ç°åœ¨æœ‰Typora äº†ï¼å¯ä»¥å®ç°å›¾ç‰‡ç›´æ¥ç²˜è´´äº†

è®¾ç½®å¥½å›¾ç‰‡è‡ªåŠ¨å¤åˆ¶ï¼Œä¸ç®¡æ˜¯æœ¬åœ°å›¾ç‰‡ï¼Œè¿˜æ˜¯ç½‘ç»œå›¾ç‰‡ï¼Œéƒ½å¤åˆ¶åˆ°`source/images`ï¼Œæ˜¾ç¤ºç›¸å¯¹è·¯å¾„ï¼ŒåŒæ—¶éœ€è¦è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•ï¼Œ

```yaml
typora-root-url: ../../source
```

è¿™æ ·Typoraç”Ÿæˆçš„ç›¸å¯¹è·¯å¾„æ‰å¯ä»¥æ­£å¸¸åœ¨ç½‘ç«™ä¸Šæ˜¾ç¤ºã€‚

![å±å¹•å¿«ç…§ 2019-07-14 ä¸Šåˆ1.15.21](/images/å±å¹•å¿«ç…§2019-07-14ä¸Šåˆ1.15.21-3039456.png)

ä½†macä¸Šå¥½åƒä¸èƒ½æ‰¹é‡è®¾ç½®å›¾ç‰‡æ ¹ç›®å½•ï¼Œæ‰€ä»¥ä¿®æ”¹é»˜è®¤çš„posté…ç½®ï¼Œåœ¨`scaffolds\post.md`é‡Œï¼Œæ·»åŠ ä¸Šé¢é‚£ä¸€å¥ã€‚

ä»¥å‰å†™çš„åšå®¢æ²¡æœ‰è¿™ä¸€å¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘å¼„äº†åŠå¤©çš„`sed`æœ€ç»ˆæ”¾å¼ƒäº†ï¼ˆmacçš„freebsdä¸Šçš„sedå’Œgnuçš„sedä¸ä¸€è‡´ï¼‰ï¼Œè¿˜æ˜¯ç”¨pythonä¸€æŠŠæ¢­

```python
import os

path_root = './_posts/'
files = os.listdir(path_root)
files = [path_root + x for x in files if x.endswith('.md')]
insert_line = 'typora-root-url: ../../source'

for file in files:
    with open(file) as f:
        lines = f.readlines()

    if any([insert_line in x for x in lines]):
        continue

    lines.insert(2, insert_line + '\n') // åœ¨å“ªä¸€è¡Œæ’å…¥éƒ½è¡Œ
    with open(file, 'w') as f:
        f.writelines(lines)
```

##2.3ä¸€ä¸ªTyporaæ²¡è§£å†³çš„å›¾ç‰‡é—®é¢˜

åæ¥æƒ³åˆ°è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ²¡æœ‰è§£å†³ï¼Œå›¾ç‰‡ç›´æ¥ç”¨çš„æ˜¯åŸå›¾ï¼Œæ²¡æœ‰åšè£å‰ªå’Œé‡å‘½åã€‚

å‚è€ƒ[è¿™é‡Œ](https://www.karlzhou.com/articles/compress-minify-hexo/)åšçš„ï¼Œç”¨`gulp`å‹ç¼©å›¾ç‰‡ã€‚

åœ¨`package.json`çš„ `dependencies`é‡ŒåŠ å…¥

```json
"del": "^2.2.2",
"gulp": "^3.9.1",
"gulp-clean-css": "^2.3.2",
"gulp-htmlclean": "^2.7.22",
"gulp-htmlmin": "^3.0.0",
"gulp-imagemin": "^3.4.0",
"gulp-uglify": "^2.1.2",
```

ç„¶åï¼Œ

```shell
cnpm insall
cnpm update # ç›´æ¥installåæŠ¥é”™ï¼Œupdateä¹‹åå¥½äº†
cnpm audit fix
```

`gulpfile.js`åšäº†ä¸€äº›ä¿®æ”¹ï¼Œä¸»è¦æ˜¯å‹ç¼©å›¾ç‰‡å¥½äº‹å¤ªé•¿äº†ï¼Œä»éƒ¨ç½²æµç¨‹é‡Œå•ç‹¬æ‹‰äº†å‡ºæ¥

```javascript
var gulp = require('gulp');
var minifycss = require('gulp-clean-css');
var uglify = require('gulp-uglify');
var htmlmin = require('gulp-htmlmin');
var htmlclean = require('gulp-htmlclean');
var imagemin = require('gulp-imagemin');
var del = require('del');
var runSequence = require('run-sequence');
var Hexo = require('hexo');


gulp.task('clean', function() {
    return del(['public/**/*']);
});

// generate html with 'hexo generate'
var hexo = new Hexo(process.cwd(), {});
gulp.task('generate', function(cb) {
    hexo.init().then(function() {
        return hexo.call('generate', {
            watch: false
        });
    }).then(function() {
        return hexo.exit();
    }).then(function() {
        return cb()
    }).catch(function(err) {
        console.log(err);
        hexo.exit(err);
        return cb(err);
    })
})

gulp.task('minify-css', function() {
    return gulp.src('./public/**/*.css')
        .pipe(minifycss({
            compatibility: 'ie8'
        }))
        .pipe(gulp.dest('./public'));
});

gulp.task('minify-html', function() {
    return gulp.src('./public/**/*.html')
        .pipe(htmlclean())
        .pipe(htmlmin({
            removeComments: true,
            minifyJS: true,
            minifyCSS: true,
            minifyURLs: true,
        }))
        .pipe(gulp.dest('./public'))
});

gulp.task('minify-js', function() {
    return gulp.src('./public/**/*.js')
        .pipe(uglify())
        .pipe(gulp.dest('./public'));
});

gulp.task('minify-img', function() {
    return gulp.src('./public/images/**/*.*')
        .pipe(imagemin())
        .pipe(gulp.dest('./public/images'))
})

gulp.task('minify-img-aggressive', function() {
    return gulp.src('./source/images/**/*.*') //ç›´æ¥å‹ç¼©sourceé‡Œçš„å›¾ç‰‡ï¼Œpublicé‡Œçš„ä¸ç®¡äº†
        .pipe(imagemin(
        [imagemin.gifsicle({'optimizationLevel': 3}), 
        imagemin.jpegtran({'progressive': true}), 
        imagemin.optipng({'optimizationLevel': 7}), 
        imagemin.svgo()],
        {'verbose': true}))
        .pipe(gulp.dest('./source/images'))
})

gulp.task('img', ['minify-img-aggressive'])

gulp.task('compress', function(cb) {
    runSequence(['minify-html', 'minify-css', 'minify-js'], cb);
    // runSequence(['minify-html', 'minify-css', 'minify-js', 'minify-img-aggressive'], cb);
});

gulp.task('build', function(cb) {
    runSequence('clean', 'generate', 'compress', cb)
});

gulp.task('default', ['build'])
```

å‹ç¼©å›¾ç‰‡ç”¨è¿™ä¸ª

```
gulp img
```

éƒ¨ç½²ç”¨è¿™ä¸ª

```
gulp build && hexo d
```